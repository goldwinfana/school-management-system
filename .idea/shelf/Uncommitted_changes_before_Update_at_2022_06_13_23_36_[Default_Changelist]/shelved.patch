Index: teacher/message.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php include './../layouts/session.php';include './../layouts/alerts.php'; $page='message';?>\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<?php include './../layouts/header.php'; ?>\r\n<body style=\"display: flex\">\r\n<div style=\"width:100%;display:flex;background: #2d3035;\">\r\n    <?php include './../layouts/navbar.php'; ?>\r\n\r\n<!--    {{--BODY --}}-->\r\n    <div class=\"page-content\">\r\n        <div class=\"page-header\">\r\n            <div class=\"container-fluid\">\r\n                <h2 class=\"h5 no-margin-bottom\">Teacher Messages</h2>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"margin:15px\">\r\n            View All messages sent and received here.\r\n        </div>\r\n\r\n\r\n        <section class=\"\" style=\"padding: 30px\">\r\n            <div class=\"container-fluid\" style=\"height: 600px;overflow-y: scroll\">\r\n                <div class=\"row\" style=\"margin-left: 15px\">\r\n\r\n<!--                    <div class=\"ms-container ms-darker ms-gray-bg\">-->\r\n<!--                        <img src=\"../assets/img/profile.png\" alt=\"Avatar\" class=\"left\" style=\"width:10%;\">-->\r\n<!--                        <p>Nah, I dunno. Play soccer.. or learn more coding perhaps?</p>-->\r\n<!--                        <span class=\"ms-time-left\">11:05</span>-->\r\n<!--                    </div>-->\r\n\r\n\r\n                    <?php\r\n                    if(isset($_GET['user_type'])){\r\n\r\n                        $user_id='';\r\n                        $init = $pdo->open();\r\n                        if($_GET['user_type']=='admin'){\r\n                            $sql = $init->prepare(\"SELECT * FROM message,admin \r\n                                                WHERE (user_id=admin_id AND user_type='admin' AND user_id=:id AND sender_id=:user_id) \r\n                                                OR (sender_id=admin_id AND sender_type='admin' AND user_id=:user_id AND sender_id=:id)\");\r\n\r\n                        }else{\r\n                            $sql = $init->prepare(\"SELECT * FROM message,student \r\n                                                WHERE (user_id=student_id AND user_type='student' AND user_id=:id AND sender_id=:user_id) \r\n                                                OR (sender_id=student_id AND sender_type='student' AND user_id=:user_id AND sender_id=:id)\");\r\n                        }\r\n\r\n                        $sql->execute(['id'=>$_GET['user_id'],'user_id'=>$_SESSION['id']]);\r\n\r\n                        if($sql->rowCount() > 0){\r\n                            foreach ($sql as $data) {\r\n                                if($data['sender_type']==$_SESSION['user'] &&$data['sender_id']==$_SESSION['id']){\r\n\r\n                                    echo '\r\n                                    <div class=\"sender-msg\">\r\n                                        <div class=\"ms-container ms-darker ms-green-bg\">\r\n                                        <h4><b><i>You</i></b></h4>\r\n                                            <p>'.$data['message'].'</p>\r\n                                            <span class=\"ms-time-right\">'.$data['date'].'</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ';\r\n                                }else{\r\n                                    echo '\r\n                                    <div class=\"receiver-msg\">\r\n                                        <div class=\"ms-container ms-darker ms-gray-bg\">\r\n                                        <h4><b><i>'.$data['name'].'</i></b></h4>\r\n                                            <p>'.$data['message'].'</p>\r\n                                            <span class=\"ms-time-left\">'.$data['date'].'</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ';\r\n                                }\r\n\r\n                            }\r\n\r\n                        }else {\r\n                            echo '\r\n                                   <div class=\"ms-container ms-darker ms-gray-bg\">\r\n                                        <p>No messages found!</p>\r\n                                    </div>\r\n                            ';\r\n                        }\r\n\r\n                        echo '\r\n                                <form class=\"\" style=\"width: 100%\" method=\"post\" action=\"sql.php\">\r\n                                    <input name=\"user_type\" value=\"'.$_GET['user_type'].'\" hidden>\r\n                                    <input name=\"user_id\" value=\"'.$_GET['user_id'].'\" hidden>\r\n                                    <textarea name=\"message\" class=\"form-control bg-white\" rows=\"3\" style=\"border-radius: 5px\" required></textarea>\r\n                                    <button class=\"btn btn-success\"><i class=\"fa fa-send\"></i> Send</button>\r\n                                </form>\r\n                            ';\r\n                    }else{\r\n                        echo '\r\n                           <table id=\"admin_table\" class=\"table table-bordered\" style=\"width: 100%;\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Name</th>\r\n                                    <th>Surname</th>\r\n                                    <th>User Type</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                ';\r\n\r\n                        $init = $pdo->open();\r\n                        $sql = $init->prepare(\"SELECT name,surname,admin_id,email FROM admin UNION SELECT name,surname,student_id,email FROM student\");\r\n                        $sql->execute();\r\n\r\n                        if ($sql->rowCount() > 0) {\r\n                            foreach ($sql as $data) {\r\n\r\n                                echo '\r\n                                     <tr>\r\n                                        <td>' . $data[\"name\"] . '</td>\r\n                                        <td>' . $data[\"surname\"] . '</td>\r\n                                        <td>' . (($data[\"email\"]=='admin@gmail.com')?'Admin': 'Student'). '</td>\r\n                                        <td>\r\n                                            <div class=\"d-flex\" >\r\n                                                <a href=\"?user_type='.(($data[\"email\"]=='admin@gmail.com')?'admin': 'student').'&user_id='.$data[\"admin_id\"].'\" class=\"contributions bg-info text-white action_spans view-admin-profile\" title=\"Open Chat\"><i class=\"fa fa-level-up\"></i> Open Chat</a>\r\n                                            </div>\r\n                                        </td>\r\n                                     </tr>\r\n                                ';\r\n\r\n                            }\r\n                            $pdo->close();\r\n                        }\r\n                        echo '\r\n                    \r\n                                     </tbody>\r\n                    </table>';\r\n                    }\r\n                    ?>\r\n\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n<!--        {{--        ENd Table--}}-->\r\n    </div>\r\n<!--    {{--END BODY--}}-->\r\n</div>\r\n\r\n<?php include('./../layouts/footer.php') ?>\r\n</body>\r\n</html>\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- teacher/message.php	(revision 79e8d89fb2bb9a2d8cb38396f28d8022ee0ecb11)
+++ teacher/message.php	(date 1655155683867)
@@ -40,7 +40,6 @@
                             $sql = $init->prepare("SELECT * FROM message,admin 
                                                 WHERE (user_id=admin_id AND user_type='admin' AND user_id=:id AND sender_id=:user_id) 
                                                 OR (sender_id=admin_id AND sender_type='admin' AND user_id=:user_id AND sender_id=:id)");
-
                         }else{
                             $sql = $init->prepare("SELECT * FROM message,student 
                                                 WHERE (user_id=student_id AND user_type='student' AND user_id=:id AND sender_id=:user_id) 
@@ -50,6 +49,11 @@
                         $sql->execute(['id'=>$_GET['user_id'],'user_id'=>$_SESSION['id']]);
 
                         if($sql->rowCount() > 0){
+                            $sql3 = $init->prepare("UPDATE message set seen='seen' WHERE sender_type='$_GET[user_type]' 
+                                                       AND sender_id='$_GET[user_id]' AND  user_id='$_SESSION[id]' AND user_type='teacher'  
+                                                       AND seen IS NULL");
+                            $sql3->execute();
+
                             foreach ($sql as $data) {
                                 if($data['sender_type']==$_SESSION['user'] &&$data['sender_id']==$_SESSION['id']){
 
@@ -112,20 +116,33 @@
 
                         if ($sql->rowCount() > 0) {
                             foreach ($sql as $data) {
+                                $user_type = (($data["email"]=='admin@gmail.com')?'admin': 'student');
+                                $sql3 = $init->prepare("SELECT COUNT(*) AS unread FROM message WHERE sender_type='$user_type' 
+                                                       AND sender_id='$data[admin_id]' AND  user_id='$_SESSION[id]' AND user_type='teacher'  
+                                                       AND seen IS NULL");
+                                $sql3->execute();
+                                $getTot = $sql3->fetch();
+                                $totMessages='';
+                                if($getTot['unread'] > 0){
+                                    $totMessages = '<small style="position: absolute;margin-top: -15px;border-radius: 10px;background: orange;" class="text-white"><i style="margin: 5px">'.$getTot["unread"].'</i></small>';
+                                }
+
 
                                 echo '
                                      <tr>
                                         <td>' . $data["name"] . '</td>
                                         <td>' . $data["surname"] . '</td>
-                                        <td>' . (($data["email"]=='admin@gmail.com')?'Admin': 'Student'). '</td>
+                                        <td>' . ucfirst($user_type). '</td>
                                         <td>
                                             <div class="d-flex" >
-                                                <a href="?user_type='.(($data["email"]=='admin@gmail.com')?'admin': 'student').'&user_id='.$data["admin_id"].'" class="contributions bg-info text-white action_spans view-admin-profile" title="Open Chat"><i class="fa fa-level-up"></i> Open Chat</a>
+                                                <a href="?user_type='.(($data["email"]=='admin@gmail.com')?'admin': 'student').'&user_id='.$data["admin_id"].'" class="bg-info text-white action_spans " title="Open Chat">
+                                                <i class="fa fa-level-up"></i> Open Chat '.$totMessages.'</a>
                                             </div>
                                         </td>
                                      </tr>
                                 ';
 
+
                             }
                             $pdo->close();
                         }
Index: student/message.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php include './../layouts/session.php'; include './../layouts/alerts.php'; $page='message'; ?>\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<?php include './../layouts/header.php'; ?>\r\n<body style=\"display: flex\">\r\n<div style=\"width:100%;display:flex;background: #2d3035;\">\r\n    <?php include './../layouts/navbar.php'; ?>\r\n\r\n<!--    {{--BODY --}}-->\r\n    <div class=\"page-content\">\r\n        <div class=\"page-header\">\r\n            <div class=\"container-fluid\">\r\n                <h2 class=\"h5 no-margin-bottom\">Student Messages</h2>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"margin:15px\">\r\n            View All messages sent and received here.\r\n        </div>\r\n\r\n\r\n        <section class=\"\" style=\"padding: 30px\">\r\n            <div class=\"container-fluid\" style=\"height: 600px;overflow-y: scroll\">\r\n                <div class=\"row\" style=\"margin-left: 15px\">\r\n\r\n<!--                    <div class=\"ms-container ms-darker ms-gray-bg\">-->\r\n<!--                        <img src=\"../assets/img/profile.png\" alt=\"Avatar\" class=\"left\" style=\"width:10%;\">-->\r\n<!--                        <p>Nah, I dunno. Play soccer.. or learn more coding perhaps?</p>-->\r\n<!--                        <span class=\"ms-time-left\">11:05</span>-->\r\n<!--                    </div>-->\r\n\r\n\r\n\r\n                    <?php\r\n                    if(isset($_GET['user_type'])){\r\n\r\n                        $user_id='';\r\n                        $init = $pdo->open();\r\n                        if($_GET['user_type']=='admin'){\r\n                            $sql = $init->prepare(\"SELECT * FROM message,admin \r\n                                                WHERE (user_id=admin_id AND user_type='admin' AND user_id=:id AND sender_id=:user_id) \r\n                                                OR (sender_id=admin_id AND sender_type='admin' AND user_id=:user_id AND sender_id=:id)\");\r\n\r\n                        }else{\r\n                            $sql = $init->prepare(\"SELECT * FROM message,teacher \r\n                                                WHERE (user_id=teacher_id AND user_type='teacher' AND user_id=:id AND sender_id=:user_id) \r\n                                                OR (sender_id=teacher_id AND sender_type='teacher' AND user_id=:user_id AND sender_id=:id)\");\r\n                        }\r\n\r\n                        $sql->execute(['id'=>$_GET['user_id'],'user_id'=>$_SESSION['id']]);\r\n\r\n                        if($sql->rowCount() > 0){\r\n                            foreach ($sql as $data) {\r\n                                if($data['sender_type']==$_SESSION['user'] &&$data['sender_id']==$_SESSION['id']){\r\n\r\n                                    echo '\r\n                                    <div class=\"sender-msg\">\r\n                                        <div class=\"ms-container ms-darker ms-green-bg\">\r\n                                        <h4><b><i>You</i></b></h4>\r\n                                            <p>'.$data['message'].'</p>\r\n                                            <span class=\"ms-time-right\">'.$data['date'].'</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ';\r\n                                }else{\r\n                                    echo '\r\n                                    <div class=\"receiver-msg\">\r\n                                        <div class=\"ms-container ms-darker ms-gray-bg\">\r\n                                        <h4><b><i>'.$data['name'].'</i></b></h4>\r\n                                            <p>'.$data['message'].'</p>\r\n                                            <span class=\"ms-time-left\">'.$data['date'].'</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ';\r\n                                }\r\n\r\n                            }\r\n\r\n                        }else {\r\n                            echo '\r\n                                   <div class=\"ms-container ms-darker ms-gray-bg\">\r\n                                        <p>No messages found!</p>\r\n                                    </div>\r\n                            ';\r\n                        }\r\n\r\n                        echo '\r\n                                <form class=\"\" style=\"width: 100%\" method=\"post\" action=\"sql.php\">\r\n                                    <input name=\"user_type\" value=\"'.$_GET['user_type'].'\" hidden>\r\n                                    <input name=\"user_id\" value=\"'.$_GET['user_id'].'\" hidden>\r\n                                    <textarea name=\"message\" placeholder=\"Type your message here...\" class=\"form-control bg-white\" rows=\"3\" style=\"border-radius: 5px\" required></textarea>\r\n                                    <button class=\"btn btn-success\"><i class=\"fa fa-send\"></i> Send</button>\r\n                                </form>\r\n                            ';\r\n                    }else{\r\n                        echo '\r\n                           <table id=\"admin_table\" class=\"table table-bordered\" style=\"width: 100%;\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Name</th>\r\n                                    <th>Surname</th>\r\n                                    <th>User Type</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                ';\r\n\r\n                        $init = $pdo->open();\r\n                        $sql = $init->prepare(\"SELECT name,surname,admin_id,email FROM admin UNION SELECT name,surname,teacher_id,email FROM teacher\");\r\n                        $sql->execute();\r\n\r\n                        if ($sql->rowCount() > 0) {\r\n                            foreach ($sql as $data) {\r\n\r\n                                echo '\r\n                                     <tr>\r\n                                        <td>' . $data[\"name\"] . '</td>\r\n                                        <td>' . $data[\"surname\"] . '</td>\r\n                                        <td>' . (($data[\"email\"]=='admin@gmail.com')?'Admin': 'Teacher'). '</td>\r\n                                        <td>\r\n                                            <div class=\"d-flex\" >\r\n                                                <a href=\"?user_type='.(($data[\"email\"]=='admin@gmail.com')?'admin': 'teacher').'&user_id='.$data[\"admin_id\"].'\" class=\"contributions bg-info text-white action_spans view-admin-profile\" title=\"Open Chat\"><i class=\"fa fa-level-up\"></i> Open Chat</a>\r\n                                            </div>\r\n                                        </td>\r\n                                     </tr>\r\n                                ';\r\n\r\n                            }\r\n                            $pdo->close();\r\n                        }\r\n                        echo '\r\n                    \r\n                                     </tbody>\r\n                    </table>';\r\n                    }\r\n                    ?>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n<!--        {{--        ENd Table--}}-->\r\n    </div>\r\n<!--    {{--END BODY--}}-->\r\n</div>\r\n\r\n<?php include('./../layouts/footer.php') ?>\r\n</body>\r\n</html>\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- student/message.php	(revision 79e8d89fb2bb9a2d8cb38396f28d8022ee0ecb11)
+++ student/message.php	(date 1655156155812)
@@ -52,6 +52,10 @@
                         $sql->execute(['id'=>$_GET['user_id'],'user_id'=>$_SESSION['id']]);
 
                         if($sql->rowCount() > 0){
+                            $sql3 = $init->prepare("UPDATE message set seen='seen' WHERE sender_type='$_GET[user_type]' 
+                                                       AND sender_id='$_GET[user_id]' AND  user_id='$_SESSION[id]' AND user_type='student'  
+                                                       AND seen IS NULL");
+                            $sql3->execute();
                             foreach ($sql as $data) {
                                 if($data['sender_type']==$_SESSION['user'] &&$data['sender_id']==$_SESSION['id']){
 
@@ -114,15 +118,25 @@
 
                         if ($sql->rowCount() > 0) {
                             foreach ($sql as $data) {
+                                $user_type = (($data["email"]=='admin@gmail.com')?'admin': 'teacher');
+                                $sql3 = $init->prepare("SELECT COUNT(*) AS unread FROM message WHERE sender_type='$user_type' 
+                                                       AND sender_id='$data[admin_id]' AND  user_id='$_SESSION[id]' AND user_type='student'  
+                                                       AND seen IS NULL");
+                                $sql3->execute();
+                                $getTot = $sql3->fetch();
+                                $totMessages='';
+                                if($getTot['unread'] > 0){
+                                    $totMessages = '<small style="position: absolute;margin-top: -15px;border-radius: 10px;background: orange;" class="text-white"><i style="margin: 5px">'.$getTot["unread"].'</i></small>';
+                                }
 
                                 echo '
                                      <tr>
                                         <td>' . $data["name"] . '</td>
                                         <td>' . $data["surname"] . '</td>
-                                        <td>' . (($data["email"]=='admin@gmail.com')?'Admin': 'Teacher'). '</td>
+                                        <td>' . ucfirst($user_type). '</td>
                                         <td>
                                             <div class="d-flex" >
-                                                <a href="?user_type='.(($data["email"]=='admin@gmail.com')?'admin': 'teacher').'&user_id='.$data["admin_id"].'" class="contributions bg-info text-white action_spans view-admin-profile" title="Open Chat"><i class="fa fa-level-up"></i> Open Chat</a>
+                                                <a href="?user_type='.(($data["email"]=='admin@gmail.com')?'admin': 'teacher').'&user_id='.$data["admin_id"].'" class="contributions bg-info text-white action_spans view-admin-profile" title="Open Chat"><i class="fa fa-level-up"></i> Open Chat  '.$totMessages.'</a>
                                             </div>
                                         </td>
                                      </tr>
Index: layouts/navbar.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php $img = empty(isset($_SESSION['image']))? '../assets/img/profile.png' : '../assets/img/profile/'.isset($_SESSION['image']); ?>\r\n<!-- Sidebar Navigation-->\r\n<nav id=\"sidebar\">\r\n    <!-- Sidebar Header-->\r\n    <div class=\"sidebar-header d-flex align-items-center\">\r\n        <div class=\"img_cont\">\r\n            <img src=\"<?php echo $img; ?>\" class=\"rounded-circle user_img\">\r\n            <span class=\"online_icon\"></span>\r\n        </div>\r\n<!--{{--        <div class=\"avatar\"><img src=\"{{asset('ask/img/profile.png')}}\" alt=\"...\" class=\"img-fluid rounded-circle\"></div>--}}-->\r\n        <div class=\"title\" style=\"padding: 20px;\">\r\n            <h1 class=\"h5\"><?php if($_SESSION['user']) echo $_SESSION['user'] ?></h1>\r\n            <p><?php if(isset($_SESSION['name'])) echo $_SESSION['name'] ?></p>\r\n        </div>\r\n    </div>\r\n<!--     Sidebar Navidation Menus--><span class=\"heading\">Main</span>\r\n    <ul class=\"list-unstyled\">\r\n\r\n        <?php\r\n        if($_SESSION['user'] == 'admin'){\r\n            echo '\r\n            <li class=\"'.($page=='home'?'active':'').'\"><a href=\"./../admin/dashboard.php\"> <i class=\"fa fa-home\"></i>Home </a></li>\r\n            <li class=\"'.($page=='profile'?'active':'').'\"><a id=\"'.$_SESSION['id'].'\" class=\" view-admin-profile\" style=\"cursor:pointer\"> <i class=\"fa fa-user-circle\"></i>Profile</a></li>\r\n            <li class=\"'.($page=='users'?'active':'').'\"><a href=\"./../admin/users.php\" > <i class=\"fa fa-users\"></i>Users</a></li>\r\n            <li class=\"'.($page=='transport'?'active':'').'\"><a href=\"./../admin/transport.php\"> <i class=\"fa fa-bus\"></i>Transport</a></li>\r\n            <li class=\"'.($page=='message'?'active':'').'\"><a href=\"./message.php\" class=\"maps\"> <i class=\"fa fa-comment-o\"></i>Messages</a></li>\r\n            <li class=\"'.($page=='attendance'?'active':'').'\"><a href=\"./attendance.php\" class=\"maps\"> <i class=\"fa fa-registered\"></i>Attendance</a></li>\r\n            <li class=\"'.($page=='library'?'active':'').'\"><a href=\"./library.php\" class=\"maps\"> <i class=\"fa fa-book\"></i>Library</a></li>\r\n        \r\n       ';}\r\n\r\n        if($_SESSION['user'] == 'student'){\r\n            echo '\r\n            <li class=\"'.($page=='home'?'active':'').'\"><a href=\"./../student/dashboard.php\"> <i class=\"fa fa-home\"></i>Home </a></li>\r\n            <li hidden class=\"'.($page=='profile'?'active':'').'\" style=\"cursor:pointer\"><a id=\"'.$_SESSION['id'].'\" class=\"view-student-profile\"> <i class=\"fa fa-user-circle\"></i>Profile</a></li>\r\n            <li class=\"'.($page=='subject'?'active':'').'\"><a href=\"./subject.php\" class=\"maps\"> <i class=\"fa fa-book\"></i>Subjects</a></li>\r\n            <li class=\"'.($page=='test'?'active':'').'\"><a href=\"./test.php\" class=\"maps\"> <i class=\"fa fa-clock-o\"></i>Tests</a></li>\r\n            <li class=\"'.($page=='transport'?'active':'').'\"><a href=\"./transport.php\"> <i class=\"fa fa-bus\"></i>Transport</a></li>\r\n            <li class=\"'.($page=='message'?'active':'').'\"><a href=\"./message.php\" class=\"maps\"> <i class=\"fa fa-comment-o\"></i>Messages</a></li>\r\n            <li class=\"'.($page=='document'?'active':'').'\"><a href=\"./document.php\" class=\"maps\"> <i class=\"fa fa-upload\"></i>Documents</a></li>\r\n             <li class=\"'.($page=='library'?'active':'').'\"><a href=\"./library.php\" class=\"maps\"> <i class=\"fa fa-book\"></i>Library</a></li>\r\n       ';}\r\n\r\n        if($_SESSION['user'] == 'teacher'){\r\n            echo '\r\n            <li class=\"'.($page=='home'?'active':'').'\"><a href=\"./dashboard.php\"> <i class=\"fa fa-home\"></i>Home </a></li>\r\n            <li class=\"'.($page=='edit-profile'?'active':'').'\" style=\"cursor:pointer\"><a id=\"'.$_SESSION['id'].'\" class=\"view-teacher-profile\"> <i class=\"fa fa-user-circle\"></i>Profile</a></li>\r\n            <li class=\"'.($page=='exam'?'active':'').'\"><a href=\"./exam.php\"> <i class=\"fa fa-book\"></i>Exam</a></li>\r\n            <li class=\"'.($page=='setexam'?'active':'').'\"><a href=\"./setexam.php\"> <i class=\"fa fa-bookmark-o\"></i>Set Exam</a></li>\r\n            <li class=\"'.($page=='mark'?'active':'').'\"><a href=\"./mark.php\"> <i class=\"fa fa-check\"></i>Marks</a></li>\r\n            <li class=\"'.($page=='message'?'active':'').'\"><a href=\"./message.php\"> <i class=\"fa fa-comment-o\"><small class=\"msg-count text-white\" hidden>5</small></i>Messages</a></li>\r\n       ';}\r\n\r\n        if($_SESSION['user'] == 'parent'){\r\n            echo '\r\n            <li class=\"active\"><a href=\"./../saloon/dashboard.php\"> <i class=\"fa fa-home\"></i>Home </a></li>\r\n            <li><a id=\"'.$_SESSION['id'].'\" class=\"view-parent-profile\"> <i class=\"fa fa-user-circle\"></i>Profile</a></li>\r\n            <li hidden><a class=\"create-shout book-session\"> <i class=\"fa fa-plus-circle\"></i>Book Session</a></li>\r\n       ';}\r\n        ?>\r\n        <li><a href=\"../logout.php\"><i class=\"fa fa-sign-out\"></i> Logout</a></li>\r\n\r\n    </ul>\r\n</nav>\r\n<!-- Sidebar Navigation end-->\r\n\r\n<!--<li><a class=\"view-books\"> <i class=\"fa fa-book\"></i>Issued Books</a></li>-->\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- layouts/navbar.php	(revision 79e8d89fb2bb9a2d8cb38396f28d8022ee0ecb11)
+++ layouts/navbar.php	(date 1655155865134)
@@ -1,4 +1,4 @@
-<?php $img = empty(isset($_SESSION['image']))? '../assets/img/profile.png' : '../assets/img/profile/'.isset($_SESSION['image']); ?>
+<?php $init = $pdo->open(); $img = empty(isset($_SESSION['image']))? '../assets/img/profile.png' : '../assets/img/profile/'.isset($_SESSION['image']); ?>
 <!-- Sidebar Navigation-->
 <nav id="sidebar">
     <!-- Sidebar Header-->
@@ -18,37 +18,63 @@
 
         <?php
         if($_SESSION['user'] == 'admin'){
+            $sql3 = $init->prepare("SELECT COUNT(*) AS unread FROM message WHERE  user_id='$_SESSION[id]' 
+                                    AND user_type='admin' AND seen IS NULL");
+            $sql3->execute();
+            $tot= $sql3->fetch();
+            $sum = '';
+            if($tot['unread'] > 0){
+                $sum = '<small class="msg-count text-white">'.$tot['unread'].'</small>';
+            }
             echo '
             <li class="'.($page=='home'?'active':'').'"><a href="./../admin/dashboard.php"> <i class="fa fa-home"></i>Home </a></li>
             <li class="'.($page=='profile'?'active':'').'"><a id="'.$_SESSION['id'].'" class=" view-admin-profile" style="cursor:pointer"> <i class="fa fa-user-circle"></i>Profile</a></li>
             <li class="'.($page=='users'?'active':'').'"><a href="./../admin/users.php" > <i class="fa fa-users"></i>Users</a></li>
             <li class="'.($page=='transport'?'active':'').'"><a href="./../admin/transport.php"> <i class="fa fa-bus"></i>Transport</a></li>
-            <li class="'.($page=='message'?'active':'').'"><a href="./message.php" class="maps"> <i class="fa fa-comment-o"></i>Messages</a></li>
+            <li class="'.($page=='message'?'active':'').'"><a href="./message.php" class="maps"> <i class="fa fa-comment-o">'.$sum.'</i>Messages</a></li>
             <li class="'.($page=='attendance'?'active':'').'"><a href="./attendance.php" class="maps"> <i class="fa fa-registered"></i>Attendance</a></li>
             <li class="'.($page=='library'?'active':'').'"><a href="./library.php" class="maps"> <i class="fa fa-book"></i>Library</a></li>
         
        ';}
 
         if($_SESSION['user'] == 'student'){
+            $sql3 = $init->prepare("SELECT COUNT(*) AS unread FROM message WHERE  user_id='$_SESSION[id]' 
+                                    AND user_type='student' AND seen IS NULL");
+            $sql3->execute();
+            $tot= $sql3->fetch();
+            $sum = '';
+            if($tot['unread'] > 0){
+                $sum = '<small class="msg-count text-white">'.$tot['unread'].'</small>';
+            }
             echo '
             <li class="'.($page=='home'?'active':'').'"><a href="./../student/dashboard.php"> <i class="fa fa-home"></i>Home </a></li>
             <li hidden class="'.($page=='profile'?'active':'').'" style="cursor:pointer"><a id="'.$_SESSION['id'].'" class="view-student-profile"> <i class="fa fa-user-circle"></i>Profile</a></li>
             <li class="'.($page=='subject'?'active':'').'"><a href="./subject.php" class="maps"> <i class="fa fa-book"></i>Subjects</a></li>
             <li class="'.($page=='test'?'active':'').'"><a href="./test.php" class="maps"> <i class="fa fa-clock-o"></i>Tests</a></li>
             <li class="'.($page=='transport'?'active':'').'"><a href="./transport.php"> <i class="fa fa-bus"></i>Transport</a></li>
-            <li class="'.($page=='message'?'active':'').'"><a href="./message.php" class="maps"> <i class="fa fa-comment-o"></i>Messages</a></li>
+            <li class="'.($page=='message'?'active':'').'"><a href="./message.php" class="maps"> <i class="fa fa-comment-o">'.$sum.'</i>Messages</a></li>
             <li class="'.($page=='document'?'active':'').'"><a href="./document.php" class="maps"> <i class="fa fa-upload"></i>Documents</a></li>
              <li class="'.($page=='library'?'active':'').'"><a href="./library.php" class="maps"> <i class="fa fa-book"></i>Library</a></li>
        ';}
 
         if($_SESSION['user'] == 'teacher'){
+
+            $sql3 = $init->prepare("SELECT COUNT(*) AS unread FROM message WHERE  user_id='$_SESSION[id]' 
+                                    AND user_type='teacher' AND seen IS NULL");
+            $sql3->execute();
+            $tot= $sql3->fetch();
+            $sum = '';
+            if($tot['unread'] > 0){
+                $sum = '<small class="msg-count text-white">'.$tot['unread'].'</small>';
+            }
+
             echo '
             <li class="'.($page=='home'?'active':'').'"><a href="./dashboard.php"> <i class="fa fa-home"></i>Home </a></li>
             <li class="'.($page=='edit-profile'?'active':'').'" style="cursor:pointer"><a id="'.$_SESSION['id'].'" class="view-teacher-profile"> <i class="fa fa-user-circle"></i>Profile</a></li>
             <li class="'.($page=='exam'?'active':'').'"><a href="./exam.php"> <i class="fa fa-book"></i>Exam</a></li>
             <li class="'.($page=='setexam'?'active':'').'"><a href="./setexam.php"> <i class="fa fa-bookmark-o"></i>Set Exam</a></li>
             <li class="'.($page=='mark'?'active':'').'"><a href="./mark.php"> <i class="fa fa-check"></i>Marks</a></li>
-            <li class="'.($page=='message'?'active':'').'"><a href="./message.php"> <i class="fa fa-comment-o"><small class="msg-count text-white" hidden>5</small></i>Messages</a></li>
+            <li class="'.($page=='message'?'active':'').'"><a href="./message.php"> <i class="fa fa-comment-o">'.$sum.'</i>Messages</a></li>
        ';}
 
         if($_SESSION['user'] == 'parent'){
Index: smsdb.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>-- phpMyAdmin SQL Dump\r\n-- version 5.0.4\r\n-- https://www.phpmyadmin.net/\r\n--\r\n-- Host: 127.0.0.1\r\n-- Generation Time: Jun 08, 2022 at 12:03 PM\r\n-- Server version: 10.4.16-MariaDB\r\n-- PHP Version: 7.4.12\r\n\r\nSET SQL_MODE = \"NO_AUTO_VALUE_ON_ZERO\";\r\nSTART TRANSACTION;\r\nSET time_zone = \"+00:00\";\r\n\r\n\r\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n/*!40101 SET NAMES utf8mb4 */;\r\n\r\n--\r\n-- Database: `smsdb`\r\n--\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `admin`\r\n--\r\n\r\nCREATE TABLE `admin` (\r\n  `admin_id` int(11) NOT NULL,\r\n  `name` text NOT NULL,\r\n  `surname` text NOT NULL,\r\n  `email` text NOT NULL,\r\n  `password` text NOT NULL,\r\n  `created_by` int(11) DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `admin`\r\n--\r\n\r\nINSERT INTO `admin` (`admin_id`, `name`, `surname`, `email`, `password`, `created_by`) VALUES\r\n(1, 'super', 'admin', 'admin@gmail.com', '1234@Abc', NULL);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `attendance`\r\n--\r\n\r\nCREATE TABLE `attendance` (\r\n  `attendance_id` int(11) NOT NULL,\r\n  `student_id` int(11) NOT NULL,\r\n  `date` datetime DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `attendance`\r\n--\r\n\r\nINSERT INTO `attendance` (`attendance_id`, `student_id`, `date`) VALUES\r\n(1, 6, '2022-06-07 22:45:00'),\r\n(2, 2, '2022-06-06 22:57:00'),\r\n(3, 2, '2022-06-07 22:58:00'),\r\n(4, 6, '2022-06-08 00:18:00'),\r\n(5, 6, '2022-06-08 00:18:00'),\r\n(6, 6, '2022-06-08 12:00:00'),\r\n(7, 6, '2022-06-08 12:01:00');\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `book`\r\n--\r\n\r\nCREATE TABLE `book` (\r\n  `book_id` int(11) NOT NULL,\r\n  `book_name` text NOT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `book`\r\n--\r\n\r\nINSERT INTO `book` (`book_id`, `book_name`) VALUES\r\n(2, 'DSO'),\r\n(4, 'c++'),\r\n(5, 'sql');\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `booking`\r\n--\r\n\r\nCREATE TABLE `booking` (\r\n  `booking_id` int(11) NOT NULL,\r\n  `student_id` int(11) NOT NULL,\r\n  `book_id` int(11) NOT NULL,\r\n  `borrow_date` datetime NOT NULL DEFAULT current_timestamp(),\r\n  `return_date` datetime DEFAULT NULL,\r\n  `status` int(11) DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `booking`\r\n--\r\n\r\nINSERT INTO `booking` (`booking_id`, `student_id`, `book_id`, `borrow_date`, `return_date`, `status`) VALUES\r\n(5, 6, 5, '2022-06-08 12:02:28', NULL, 0),\r\n(6, 6, 2, '2022-06-08 12:03:10', NULL, 1);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `exam`\r\n--\r\n\r\nCREATE TABLE `exam` (\r\n  `exam_id` int(11) NOT NULL,\r\n  `grade` text NOT NULL,\r\n  `subject` text NOT NULL,\r\n  `test_name` text NOT NULL,\r\n  `teacher_id` int(11) NOT NULL,\r\n  `exam_date` text NOT NULL,\r\n  `duration` int(11) NOT NULL,\r\n  `status` text DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `exam`\r\n--\r\n\r\nINSERT INTO `exam` (`exam_id`, `grade`, `subject`, `test_name`, `teacher_id`, `exam_date`, `duration`, `status`) VALUES\r\n(26, '9', 'EMS', 'EMS exam', 1, '2022-05-24 20:11:55', 1, 'active'),\r\n(27, '9', 'Arts & Culture ', 'EMS exam', 1, '2022-05-24 20:11:55', 2, 'active'),\r\n(28, '9', 'Natural Science', 'english exam', 1, '2022-05-24 20:11:55', 3, NULL),\r\n(30, '9', 'Arts & Culture ', 'EMS examination', 1, '2022-05-25T09:15', 3, NULL),\r\n(31, '9', 'EMS', 'english exam', 2, '2022-06-07', 3, NULL),\r\n(32, '9', 'Natural Science', 'english exam', 2, '2022-06-07', 3, NULL),\r\n(33, '9', 'Arts & Culture ', 'english exam', 2, '2022-06-07', 3, NULL),\r\n(34, '9', 'Technology', 'english exam', 2, '2022-06-07', 3, NULL);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `grade`\r\n--\r\n\r\nCREATE TABLE `grade` (\r\n  `grade_id` int(11) NOT NULL,\r\n  `grade_code` text NOT NULL,\r\n  `subjects` text NOT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `grade`\r\n--\r\n\r\nINSERT INTO `grade` (`grade_id`, `grade_code`, `subjects`) VALUES\r\n(1, '8', '\\'EMS\\',\\'Arts & Culture \\',\\'Natural Science\\',\\'Socila Science\\',\\'Technology\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(2, '9', '\\'EMS\\',\\'Arts & Culture \\',\\'Natural Science\\',\\'Socila Science\\',\\'Technology\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(3, '10a', '\\'Economics\\',\\'Business Studies\\',\\'Accounting\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(4, '10b', '\\'Physics\\',\\'Geography\\',\\'Life Science\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(5, '10c', '\\'Tourism\\',\\'Agriculture\\',\\'Consumer Studies\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(6, '10d', '\\'Tourism\\',\\'Agriculture\\',\\'CAT\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics Literacy\\''),\r\n(7, '11a', '\\'Economics\\',\\'Business Studies\\',\\'Accounting\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(8, '11b', '\\'Physics\\',\\'Geography\\',\\'Life Science\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(9, '11c', '\\'Tourism\\',\\'Agriculture\\',\\'Consumer Studies\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(10, '11d', '\\'Tourism\\',\\'Agriculture\\',\\'CAT\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics Literacy\\''),\r\n(11, '12a', '\\'Economics\\',\\'Business Studies\\',\\'Accounting\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(12, '12b', '\\'Physics\\',\\'Geography\\',\\'Life Science\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(13, '12c', '\\'Tourism\\',\\'Agriculture\\',\\'Consumer Studies\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics\\''),\r\n(14, '12d', '\\'Tourism\\',\\'Agriculture\\',\\'CAT\\',\\'Life Orientation\\',\\'English\\',\\'Home Language\\',\\'Mathematics Literacy\\'');\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `mark`\r\n--\r\n\r\nCREATE TABLE `mark` (\r\n  `mark_id` int(11) NOT NULL,\r\n  `exam_id` int(11) NOT NULL,\r\n  `student_id` int(11) NOT NULL,\r\n  `question` text NOT NULL,\r\n  `answer` text NOT NULL,\r\n  `score` int(11) NOT NULL,\r\n  `date` datetime NOT NULL DEFAULT current_timestamp()\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `mark`\r\n--\r\n\r\nINSERT INTO `mark` (`mark_id`, `exam_id`, `student_id`, `question`, `answer`, `score`, `date`) VALUES\r\n(1, 27, 2, '1', 'true', 1, '2022-05-25 10:38:26'),\r\n(3, 27, 2, '2', 'false', 1, '2022-05-25 11:13:19'),\r\n(4, 27, 2, '3', 'Hi', 1, '2022-05-25 11:14:01'),\r\n(5, 27, 2, '4', 'Pretoria', 1, '2022-05-25 11:15:43'),\r\n(6, 27, 2, '5', 'true', 0, '2022-05-25 11:16:37');\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `message`\r\n--\r\n\r\nCREATE TABLE `message` (\r\n  `message_id` int(11) NOT NULL,\r\n  `sender_id` int(11) NOT NULL,\r\n  `sender_type` text NOT NULL,\r\n  `user_id` int(11) NOT NULL,\r\n  `user_type` text NOT NULL,\r\n  `message` text NOT NULL,\r\n  `date` datetime NOT NULL DEFAULT current_timestamp(),\r\n  `seen` int(11) DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `message`\r\n--\r\n\r\nINSERT INTO `message` (`message_id`, `sender_id`, `sender_type`, `user_id`, `user_type`, `message`, `date`, `seen`) VALUES\r\n(1, 2, 'student', 1, 'teacher', 'Hello World', '2022-05-11 05:17:01', NULL),\r\n(2, 1, 'teacher', 2, 'student', 'Can we meet up?', '2022-05-11 05:35:48', NULL),\r\n(3, 1, 'admin', 1, 'teacher', 'ds', '2022-05-11 06:18:07', NULL),\r\n(4, 2, 'student', 1, 'admin', 'Hi admin please change my transport', '2022-05-14 14:31:17', NULL),\r\n(5, 1, 'admin', 2, 'student', 'Testing', '2022-05-15 09:43:38', NULL),\r\n(6, 1, 'admin', 2, 'student', 'Test', '2022-05-15 09:44:02', NULL);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `parent`\r\n--\r\n\r\nCREATE TABLE `parent` (\r\n  `parent_id` int(11) NOT NULL,\r\n  `name` text NOT NULL,\r\n  `surname` text NOT NULL,\r\n  `email` text NOT NULL,\r\n  `id_number` text NOT NULL,\r\n  `mobile` text NOT NULL,\r\n  `address` text NOT NULL,\r\n  `password` text NOT NULL,\r\n  `approved_by` int(11) DEFAULT NULL,\r\n  `status` int(11) DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `parent`\r\n--\r\n\r\nINSERT INTO `parent` (`parent_id`, `name`, `surname`, `email`, `id_number`, `mobile`, `address`, `password`, `approved_by`, `status`) VALUES\r\n(1, 'Parent', 'parent', 'parent@gmail.com', '8002025583086', '0610217499', '', '1234@Abc', NULL, 1);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `question`\r\n--\r\n\r\nCREATE TABLE `question` (\r\n  `question_id` int(11) NOT NULL,\r\n  `exam_id` int(11) NOT NULL,\r\n  `question` text DEFAULT NULL,\r\n  `q_type` text DEFAULT NULL,\r\n  `options` text NOT NULL,\r\n  `answer` text NOT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `question`\r\n--\r\n\r\nINSERT INTO `question` (`question_id`, `exam_id`, `question`, `q_type`, `options`, `answer`) VALUES\r\n(1, 27, 'jg', 'tf', '[\\\"true\\\",\\\"false\\\"]', 'true'),\r\n(2, 27, 'jg', 'tf', '[\\\"true\\\",\\\"false\\\"]', 'false'),\r\n(3, 27, 'What is your name', 'tbox', '', 'Enter your own name'),\r\n(4, 27, 'Which one is the capital city of Gauteng', 'options', '[\\\"Pretoria\\\",\\\"Hammanskarl\\\",\\\"Seshego\\\",\\\"Germiston\\\"]', 'Pretoria'),\r\n(5, 27, 'Are you done writing exams', 'tf', '[\\\"true\\\",\\\"false\\\"]', 'false'),\r\n(1, 30, 'Where can we find South Africa', 'options', '[\\\"Africa\\\",\\\"Asia\\\",\\\"America\\\",\\\"Europe\\\"]', 'Africa'),\r\n(2, 30, 'ARe you done', 'tf', '[\\\"true\\\",\\\"false\\\"]', 'true'),\r\n(3, 30, 'Find x\\r\\nx+3=5', 'tbox', '', 'Do your best'),\r\n(1, 34, 'Are you okay', 'tf', '[\\\"true\\\",\\\"false\\\"]', 'true');\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `status`\r\n--\r\n\r\nCREATE TABLE `status` (\r\n  `status_id` int(11) NOT NULL,\r\n  `status_name` text NOT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `status`\r\n--\r\n\r\nINSERT INTO `status` (`status_id`, `status_name`) VALUES\r\n(0, 'pending'),\r\n(1, 'approved'),\r\n(2, 'deleted');\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `student`\r\n--\r\n\r\nCREATE TABLE `student` (\r\n  `student_id` int(11) NOT NULL,\r\n  `name` text NOT NULL,\r\n  `surname` text NOT NULL,\r\n  `email` text NOT NULL,\r\n  `id_number` text NOT NULL,\r\n  `parent_id_number` text NOT NULL,\r\n  `mobile` text NOT NULL,\r\n  `address` text NOT NULL,\r\n  `password` text NOT NULL,\r\n  `grade` text DEFAULT NULL,\r\n  `transport` int(11) DEFAULT NULL,\r\n  `approved_by` int(11) DEFAULT NULL,\r\n  `status` int(11) DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `student`\r\n--\r\n\r\nINSERT INTO `student` (`student_id`, `name`, `surname`, `email`, `id_number`, `parent_id_number`, `mobile`, `address`, `password`, `grade`, `transport`, `approved_by`, `status`) VALUES\r\n(1, 'test', '', 'james@gmail.com', '9002025583086', '8002025583086', '0610217411', '', '1234@Abc', NULL, NULL, NULL, 0),\r\n(2, 'gg', 'ttttt', 'test1@gmail.com', '8102025583086', '8002025583086', '0610217499', '', '1234@Abc', '9', 2, NULL, 1),\r\n(4, 'sub', 'subs', 'testing@gmail.com', '8802025583087', '4502025583089', '0610217499', '', '1234@Abc', NULL, NULL, NULL, 0),\r\n(5, 'stest', 'test', 'tests@gmail.com', '9907136201082', '8702025578081', '0725597811', 'aubrey matlala street', '1234@Abc', NULL, NULL, NULL, 0),\r\n(6, 'students', 'test', 'student@gmail.com', '0502025583084', '8802025583089', '0610210000', '477 Sisulu Street', '1234@Abc', '10a', NULL, NULL, 1);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `subject`\r\n--\r\n\r\nCREATE TABLE `subject` (\r\n  `subject_id` int(11) NOT NULL,\r\n  `name` text NOT NULL,\r\n  `grade_code` text DEFAULT NULL,\r\n  `grade_code_1` text DEFAULT NULL,\r\n  `grade_code_2` text DEFAULT NULL,\r\n  `grade_code_3` text DEFAULT NULL,\r\n  `grade_code_4` text DEFAULT NULL,\r\n  `grade_code_5` text DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `subject`\r\n--\r\n\r\nINSERT INTO `subject` (`subject_id`, `name`, `grade_code`, `grade_code_1`, `grade_code_2`, `grade_code_3`, `grade_code_4`, `grade_code_5`) VALUES\r\n(1, 'EMS', '8', '9', NULL, NULL, NULL, NULL),\r\n(2, 'Arts & Culture', '8', '9', NULL, NULL, NULL, NULL),\r\n(3, 'Natural Science', '8', '9', NULL, NULL, NULL, NULL),\r\n(4, 'Social Science', '8', '9', NULL, NULL, NULL, NULL),\r\n(5, 'Technology', '8', '9', NULL, NULL, NULL, NULL),\r\n(6, 'English', '8', '9', '10', '11', '12', NULL),\r\n(7, 'Home Language', '8', '9', '10', '11', '12', NULL),\r\n(8, 'Mathematics', '8', '9', '10', '11', '12', NULL),\r\n(9, 'Life Orientation', '8', '9', '10', '11', '12', NULL),\r\n(19, 'Economics', '10a', '11a', '12a', NULL, NULL, NULL),\r\n(20, 'Business STudies', '10a', '11a', '12a', NULL, NULL, NULL),\r\n(21, 'Accounting', '10a', '11a', '12a', NULL, NULL, NULL),\r\n(22, 'Geography', '10b', '11b', '12b', NULL, NULL, NULL),\r\n(23, 'Physics', '10b', '11b', '12b', NULL, NULL, NULL),\r\n(24, 'Life Science', '10b', '11b', '12b', NULL, NULL, NULL),\r\n(25, 'Consumer Studies', '10c', '11c', '12c', NULL, NULL, NULL),\r\n(27, 'Agricultrure', '10c', '11c', '12c', NULL, NULL, NULL),\r\n(28, 'Tourism', '10c', '11c', '12c', NULL, NULL, NULL);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `teacher`\r\n--\r\n\r\nCREATE TABLE `teacher` (\r\n  `teacher_id` int(11) NOT NULL,\r\n  `name` text NOT NULL,\r\n  `surname` text NOT NULL,\r\n  `email` text NOT NULL,\r\n  `id_number` text NOT NULL,\r\n  `mobile` text NOT NULL,\r\n  `address` text NOT NULL,\r\n  `password` text NOT NULL,\r\n  `grade_code` text DEFAULT NULL,\r\n  `subjects` text DEFAULT NULL,\r\n  `approved_by` int(11) DEFAULT NULL,\r\n  `status` int(11) DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `teacher`\r\n--\r\n\r\nINSERT INTO `teacher` (`teacher_id`, `name`, `surname`, `email`, `id_number`, `mobile`, `address`, `password`, `grade_code`, `subjects`, `approved_by`, `status`) VALUES\r\n(1, 'teacher', 'tewach', 'teacher@gmail.com', '9902025583081', '0610217499', '', '1234@Abc', '9', '[\\\"EMS\\\",\\\"Arts & Culture \\\",\\\"Natural Science\\\",\\\"Socila Science\\\",\\\"Technology\\\"]', NULL, 1),\r\n(2, 'teacher1', 'tewach1', 'teacher1@gmail.com', '9902025583082', '0610217498', '', '1234@Abc', '9', '[\\\"EMS\\\",\\\"Arts & Culture \\\",\\\"Natural Science\\\",\\\"Socila Science\\\",\\\"Technology\\\"]', NULL, 1);\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `transport`\r\n--\r\n\r\nCREATE TABLE `transport` (\r\n  `transport_id` int(11) NOT NULL,\r\n  `name` text NOT NULL,\r\n  `surname` text NOT NULL,\r\n  `id_number` text NOT NULL,\r\n  `mobile` text NOT NULL,\r\n  `bus` text NOT NULL,\r\n  `image` text DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `transport`\r\n--\r\n\r\nINSERT INTO `transport` (`transport_id`, `name`, `surname`, `id_number`, `mobile`, `bus`, `image`) VALUES\r\n(1, 'driver', 'driver', '6802025553084', '0824444440', 'Skyline Bu', NULL),\r\n(2, 'test', 'test', '7702025502084', '0678541222', 'Old bus', '75820556f9d53f5a8697e088a33d46b6supply.png');\r\n\r\n-- --------------------------------------------------------\r\n\r\n--\r\n-- Table structure for table `upload`\r\n--\r\n\r\nCREATE TABLE `upload` (\r\n  `upload_id` int(11) NOT NULL,\r\n  `user_id` text NOT NULL,\r\n  `description` text NOT NULL,\r\n  `file_name` text NOT NULL,\r\n  `date` datetime DEFAULT current_timestamp()\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\r\n\r\n--\r\n-- Dumping data for table `upload`\r\n--\r\n\r\nINSERT INTO `upload` (`upload_id`, `user_id`, `description`, `file_name`, `date`) VALUES\r\n(1, '8102025583086', 'Proof of payment', '17e4813d36d038291e4a8c510e85585fDetailed Speeding Detail.pdf', '2022-05-24 20:11:55'),\r\n(2, '0502025583084', 'Registration proof of payment', '8fd52990c830f505a728a668f9222506Capture2.PNG', '2022-05-29 18:57:38');\r\n\r\n--\r\n-- Indexes for dumped tables\r\n--\r\n\r\n--\r\n-- Indexes for table `admin`\r\n--\r\nALTER TABLE `admin`\r\n  ADD PRIMARY KEY (`admin_id`);\r\n\r\n--\r\n-- Indexes for table `attendance`\r\n--\r\nALTER TABLE `attendance`\r\n  ADD PRIMARY KEY (`attendance_id`);\r\n\r\n--\r\n-- Indexes for table `book`\r\n--\r\nALTER TABLE `book`\r\n  ADD PRIMARY KEY (`book_id`);\r\n\r\n--\r\n-- Indexes for table `booking`\r\n--\r\nALTER TABLE `booking`\r\n  ADD PRIMARY KEY (`booking_id`);\r\n\r\n--\r\n-- Indexes for table `exam`\r\n--\r\nALTER TABLE `exam`\r\n  ADD PRIMARY KEY (`exam_id`);\r\n\r\n--\r\n-- Indexes for table `grade`\r\n--\r\nALTER TABLE `grade`\r\n  ADD PRIMARY KEY (`grade_id`);\r\n\r\n--\r\n-- Indexes for table `mark`\r\n--\r\nALTER TABLE `mark`\r\n  ADD PRIMARY KEY (`mark_id`);\r\n\r\n--\r\n-- Indexes for table `message`\r\n--\r\nALTER TABLE `message`\r\n  ADD PRIMARY KEY (`message_id`);\r\n\r\n--\r\n-- Indexes for table `parent`\r\n--\r\nALTER TABLE `parent`\r\n  ADD PRIMARY KEY (`parent_id`);\r\n\r\n--\r\n-- Indexes for table `status`\r\n--\r\nALTER TABLE `status`\r\n  ADD PRIMARY KEY (`status_id`);\r\n\r\n--\r\n-- Indexes for table `student`\r\n--\r\nALTER TABLE `student`\r\n  ADD PRIMARY KEY (`student_id`);\r\n\r\n--\r\n-- Indexes for table `subject`\r\n--\r\nALTER TABLE `subject`\r\n  ADD PRIMARY KEY (`subject_id`);\r\n\r\n--\r\n-- Indexes for table `teacher`\r\n--\r\nALTER TABLE `teacher`\r\n  ADD PRIMARY KEY (`teacher_id`);\r\n\r\n--\r\n-- Indexes for table `transport`\r\n--\r\nALTER TABLE `transport`\r\n  ADD PRIMARY KEY (`transport_id`);\r\n\r\n--\r\n-- Indexes for table `upload`\r\n--\r\nALTER TABLE `upload`\r\n  ADD PRIMARY KEY (`upload_id`);\r\n\r\n--\r\n-- AUTO_INCREMENT for dumped tables\r\n--\r\n\r\n--\r\n-- AUTO_INCREMENT for table `admin`\r\n--\r\nALTER TABLE `admin`\r\n  MODIFY `admin_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `attendance`\r\n--\r\nALTER TABLE `attendance`\r\n  MODIFY `attendance_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `book`\r\n--\r\nALTER TABLE `book`\r\n  MODIFY `book_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `booking`\r\n--\r\nALTER TABLE `booking`\r\n  MODIFY `booking_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `exam`\r\n--\r\nALTER TABLE `exam`\r\n  MODIFY `exam_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=35;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `grade`\r\n--\r\nALTER TABLE `grade`\r\n  MODIFY `grade_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `mark`\r\n--\r\nALTER TABLE `mark`\r\n  MODIFY `mark_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `message`\r\n--\r\nALTER TABLE `message`\r\n  MODIFY `message_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `parent`\r\n--\r\nALTER TABLE `parent`\r\n  MODIFY `parent_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `status`\r\n--\r\nALTER TABLE `status`\r\n  MODIFY `status_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `student`\r\n--\r\nALTER TABLE `student`\r\n  MODIFY `student_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `subject`\r\n--\r\nALTER TABLE `subject`\r\n  MODIFY `subject_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=29;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `teacher`\r\n--\r\nALTER TABLE `teacher`\r\n  MODIFY `teacher_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `transport`\r\n--\r\nALTER TABLE `transport`\r\n  MODIFY `transport_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;\r\n\r\n--\r\n-- AUTO_INCREMENT for table `upload`\r\n--\r\nALTER TABLE `upload`\r\n  MODIFY `upload_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;\r\nCOMMIT;\r\n\r\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- smsdb.sql	(revision 79e8d89fb2bb9a2d8cb38396f28d8022ee0ecb11)
+++ smsdb.sql	(date 1655103006496)
@@ -3,7 +3,7 @@
 -- https://www.phpmyadmin.net/
 --
 -- Host: 127.0.0.1
--- Generation Time: Jun 08, 2022 at 12:03 PM
+-- Generation Time: Jun 13, 2022 at 08:50 AM
 -- Server version: 10.4.16-MariaDB
 -- PHP Version: 7.4.12
 
@@ -41,7 +41,7 @@
 --
 
 INSERT INTO `admin` (`admin_id`, `name`, `surname`, `email`, `password`, `created_by`) VALUES
-(1, 'super', 'admin', 'admin@gmail.com', '1234@Abc', NULL);
+(1, 'super', 'admins', 'admin@gmail.com', '1234@Abc', NULL);
 
 -- --------------------------------------------------------
 
@@ -66,7 +66,8 @@
 (4, 6, '2022-06-08 00:18:00'),
 (5, 6, '2022-06-08 00:18:00'),
 (6, 6, '2022-06-08 12:00:00'),
-(7, 6, '2022-06-08 12:01:00');
+(7, 6, '2022-06-08 12:01:00'),
+(8, 6, '2022-06-09 13:24:00');
 
 -- --------------------------------------------------------
 
@@ -109,7 +110,8 @@
 
 INSERT INTO `booking` (`booking_id`, `student_id`, `book_id`, `borrow_date`, `return_date`, `status`) VALUES
 (5, 6, 5, '2022-06-08 12:02:28', NULL, 0),
-(6, 6, 2, '2022-06-08 12:03:10', NULL, 1);
+(6, 6, 2, '2022-06-08 12:03:10', NULL, 3),
+(7, 6, 4, '2022-06-09 13:38:14', NULL, 1);
 
 -- --------------------------------------------------------
 
@@ -123,7 +125,7 @@
   `subject` text NOT NULL,
   `test_name` text NOT NULL,
   `teacher_id` int(11) NOT NULL,
-  `exam_date` text NOT NULL,
+  `exam_date` date NOT NULL,
   `duration` int(11) NOT NULL,
   `status` text DEFAULT NULL
 ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
@@ -133,10 +135,10 @@
 --
 
 INSERT INTO `exam` (`exam_id`, `grade`, `subject`, `test_name`, `teacher_id`, `exam_date`, `duration`, `status`) VALUES
-(26, '9', 'EMS', 'EMS exam', 1, '2022-05-24 20:11:55', 1, 'active'),
-(27, '9', 'Arts & Culture ', 'EMS exam', 1, '2022-05-24 20:11:55', 2, 'active'),
-(28, '9', 'Natural Science', 'english exam', 1, '2022-05-24 20:11:55', 3, NULL),
-(30, '9', 'Arts & Culture ', 'EMS examination', 1, '2022-05-25T09:15', 3, NULL),
+(26, '9', 'EMS', 'EMS exam', 1, '2022-05-24', 1, 'active'),
+(27, '9', 'Arts & Culture ', 'EMS exam', 1, '2022-06-09', 2, NULL),
+(28, '9', 'Natural Science', 'english exam', 1, '2022-05-24', 3, NULL),
+(30, '9', 'Arts & Culture ', 'EMS examination', 1, '2022-05-25', 3, NULL),
 (31, '9', 'EMS', 'english exam', 2, '2022-06-07', 3, NULL),
 (32, '9', 'Natural Science', 'english exam', 2, '2022-06-07', 3, NULL),
 (33, '9', 'Arts & Culture ', 'english exam', 2, '2022-06-07', 3, NULL),
@@ -333,11 +335,11 @@
 --
 
 INSERT INTO `student` (`student_id`, `name`, `surname`, `email`, `id_number`, `parent_id_number`, `mobile`, `address`, `password`, `grade`, `transport`, `approved_by`, `status`) VALUES
-(1, 'test', '', 'james@gmail.com', '9002025583086', '8002025583086', '0610217411', '', '1234@Abc', NULL, NULL, NULL, 0),
+(1, 'test', '', 'james@gmail.com', '9002025583086', '8002025583086', '0610217411', '', '12345@Abc', NULL, NULL, NULL, 0),
 (2, 'gg', 'ttttt', 'test1@gmail.com', '8102025583086', '8002025583086', '0610217499', '', '1234@Abc', '9', 2, NULL, 1),
 (4, 'sub', 'subs', 'testing@gmail.com', '8802025583087', '4502025583089', '0610217499', '', '1234@Abc', NULL, NULL, NULL, 0),
 (5, 'stest', 'test', 'tests@gmail.com', '9907136201082', '8702025578081', '0725597811', 'aubrey matlala street', '1234@Abc', NULL, NULL, NULL, 0),
-(6, 'students', 'test', 'student@gmail.com', '0502025583084', '8802025583089', '0610210000', '477 Sisulu Street', '1234@Abc', '10a', NULL, NULL, 1);
+(6, 'students', 'testing', 'student@gmail.com', '0502025583084', '8802025583089', '0610210000', '477 Sisulu Street', '1234@Abc', '10a', 1, NULL, 1);
 
 -- --------------------------------------------------------
 
@@ -406,7 +408,7 @@
 --
 
 INSERT INTO `teacher` (`teacher_id`, `name`, `surname`, `email`, `id_number`, `mobile`, `address`, `password`, `grade_code`, `subjects`, `approved_by`, `status`) VALUES
-(1, 'teacher', 'tewach', 'teacher@gmail.com', '9902025583081', '0610217499', '', '1234@Abc', '9', '[\"EMS\",\"Arts & Culture \",\"Natural Science\",\"Socila Science\",\"Technology\"]', NULL, 1),
+(1, 'teacher', 'tewa', 'teacher@gmail.com', '9902025583081', '0610217499', '', '1234@Abc', '9', '[\"EMS\",\"Arts & Culture \",\"Natural Science\",\"Socila Science\",\"Technology\"]', NULL, 1),
 (2, 'teacher1', 'tewach1', 'teacher1@gmail.com', '9902025583082', '0610217498', '', '1234@Abc', '9', '[\"EMS\",\"Arts & Culture \",\"Natural Science\",\"Socila Science\",\"Technology\"]', NULL, 1);
 
 -- --------------------------------------------------------
@@ -563,7 +565,7 @@
 -- AUTO_INCREMENT for table `attendance`
 --
 ALTER TABLE `attendance`
-  MODIFY `attendance_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;
+  MODIFY `attendance_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;
 
 --
 -- AUTO_INCREMENT for table `book`
@@ -575,7 +577,7 @@
 -- AUTO_INCREMENT for table `booking`
 --
 ALTER TABLE `booking`
-  MODIFY `booking_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;
+  MODIFY `booking_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;
 
 --
 -- AUTO_INCREMENT for table `exam`
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"377ee98f-816a-4e34-be28-3ea40a5f2852\" name=\"Default Changelist\" comment=\"Final adjustments\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/admin/message.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/admin/message.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/admin/modal.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/admin/modal.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/admin/sql.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/admin/sql.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/assets/assets/js/main.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/assets/assets/js/main.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/parent/modal.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/parent/modal.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/parent/sql.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/parent/sql.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/smsdb.sql\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/smsdb.sql\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/student/message.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/student/message.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/teacher/message.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/teacher/message.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/teacher/sql.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/teacher/sql.php\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\">\r\n    <execution />\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"28l0ZBLTnlYuS0TPZyk1OMZfUkz\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\r\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\xampp\\htdocs\\school-management-system\\admin\" />\r\n      <recent name=\"C:\\xampp\\htdocs\\school-management-system\" />\r\n    </key>\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\xampp\\htdocs\\school-management-system\" />\r\n      <recent name=\"C:\\xampp\\htdocs\\school-management-system\\student\" />\r\n      <recent name=\"C:\\xampp\\htdocs\\school-management-system\\admin\" />\r\n      <recent name=\"C:\\xampp\\htdocs\\school-management-system\\assets\\js\" />\r\n      <recent name=\"C:\\xampp\\htdocs\\school-management-system\\assets\\assets\\css\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"377ee98f-816a-4e34-be28-3ea40a5f2852\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1651775917312</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1651775917312</updated>\r\n      <workItem from=\"1651775918593\" duration=\"4124000\" />\r\n      <workItem from=\"1652153259606\" duration=\"24529000\" />\r\n      <workItem from=\"1652336615717\" duration=\"4347000\" />\r\n      <workItem from=\"1652511557802\" duration=\"42333000\" />\r\n      <workItem from=\"1652946245214\" duration=\"38293000\" />\r\n      <workItem from=\"1653144773544\" duration=\"85580000\" />\r\n      <workItem from=\"1653841318896\" duration=\"8874000\" />\r\n      <workItem from=\"1654024186471\" duration=\"8296000\" />\r\n      <workItem from=\"1654327608366\" duration=\"632000\" />\r\n      <workItem from=\"1654624818140\" duration=\"25678000\" />\r\n      <workItem from=\"1654757696858\" duration=\"16673000\" />\r\n      <workItem from=\"1655102995208\" duration=\"371000\" />\r\n      <workItem from=\"1655145743384\" duration=\"3883000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"third may push\">\r\n      <created>1652952972693</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1652952972693</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"third may push\">\r\n      <created>1652970514922</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1652970514922</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"Evening push\">\r\n      <created>1653257665889</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653257665889</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Evening push\">\r\n      <created>1653261454294</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653261454294</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Evening push\">\r\n      <created>1653262684298</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653262684298</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"Evening push\">\r\n      <created>1653599702474</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653599702475</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"Evening push\">\r\n      <created>1653721386686</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653721386686</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"Landing page\">\r\n      <created>1653887292680</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653887292680</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"remaining errors\">\r\n      <created>1654032274129</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1654032274129</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"remaining errors\">\r\n      <created>1654032508550</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1654032508550</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"Few adjustments\">\r\n      <created>1654775355423</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1654775355424</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"Final adjustments\">\r\n      <created>1655103300781</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1655103300781</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"13\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"third may push\" />\r\n    <MESSAGE value=\"Evening push\" />\r\n    <MESSAGE value=\"Landing page\" />\r\n    <MESSAGE value=\"remaining errors\" />\r\n    <MESSAGE value=\"Few adjustments\" />\r\n    <MESSAGE value=\"Final adjustments\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Final adjustments\" />\r\n  </component>\r\n  <component name=\"WindowStateProjectService\">\r\n    <state x=\"308\" y=\"0\" key=\"CommitChangelistDialog2\" timestamp=\"1655103294874\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"308\" y=\"0\" key=\"CommitChangelistDialog2/0.0.1366.728@0.0.1366.728\" timestamp=\"1655103294874\" />\r\n    <state x=\"463\" y=\"119\" key=\"FileChooserDialogImpl\" timestamp=\"1651996241512\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"463\" y=\"119\" key=\"FileChooserDialogImpl/0.0.1366.728@0.0.1366.728\" timestamp=\"1651996241512\" />\r\n    <state x=\"517\" y=\"287\" key=\"NewPhpFileDialog\" timestamp=\"1653841405512\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"517\" y=\"287\" key=\"NewPhpFileDialog/0.0.1366.728@0.0.1366.728\" timestamp=\"1653841405512\" />\r\n    <state x=\"275\" y=\"97\" key=\"Vcs.Push.Dialog.v2\" timestamp=\"1655103404097\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"275\" y=\"97\" key=\"Vcs.Push.Dialog.v2/0.0.1366.728@0.0.1366.728\" timestamp=\"1655103404097\" />\r\n    <state x=\"500\" y=\"278\" key=\"com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2\" timestamp=\"1655103182382\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"500\" y=\"278\" key=\"com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1366.728@0.0.1366.728\" timestamp=\"1655103182382\" />\r\n    <state x=\"339\" y=\"162\" key=\"run.anything.popup\" timestamp=\"1653434587478\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"339\" y=\"162\" key=\"run.anything.popup/0.0.1366.728@0.0.1366.728\" timestamp=\"1653434587478\" />\r\n    <state x=\"346\" y=\"49\" width=\"672\" height=\"678\" key=\"search.everywhere.popup\" timestamp=\"1654774325923\">\r\n      <screen x=\"0\" y=\"0\" width=\"1366\" height=\"728\" />\r\n    </state>\r\n    <state x=\"346\" y=\"49\" width=\"672\" height=\"678\" key=\"search.everywhere.popup/0.0.1366.728@0.0.1366.728\" timestamp=\"1654774325923\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision 79e8d89fb2bb9a2d8cb38396f28d8022ee0ecb11)
+++ .idea/workspace.xml	(date 1655155991868)
@@ -5,14 +5,9 @@
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/admin/message.php" beforeDir="false" afterPath="$PROJECT_DIR$/admin/message.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/admin/modal.php" beforeDir="false" afterPath="$PROJECT_DIR$/admin/modal.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/admin/sql.php" beforeDir="false" afterPath="$PROJECT_DIR$/admin/sql.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/assets/assets/js/main.js" beforeDir="false" afterPath="$PROJECT_DIR$/assets/assets/js/main.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/parent/modal.php" beforeDir="false" afterPath="$PROJECT_DIR$/parent/modal.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/parent/sql.php" beforeDir="false" afterPath="$PROJECT_DIR$/parent/sql.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/layouts/navbar.php" beforeDir="false" afterPath="$PROJECT_DIR$/layouts/navbar.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/smsdb.sql" beforeDir="false" afterPath="$PROJECT_DIR$/smsdb.sql" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/student/message.php" beforeDir="false" afterPath="$PROJECT_DIR$/student/message.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/teacher/message.php" beforeDir="false" afterPath="$PROJECT_DIR$/teacher/message.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/teacher/sql.php" beforeDir="false" afterPath="$PROJECT_DIR$/teacher/sql.php" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -37,16 +32,16 @@
     <property name="nodejs_package_manager_path" value="npm" />
   </component>
   <component name="RecentsManager">
-    <key name="MoveFile.RECENT_KEYS">
-      <recent name="C:\xampp\htdocs\school-management-system\admin" />
-      <recent name="C:\xampp\htdocs\school-management-system" />
-    </key>
     <key name="CopyFile.RECENT_KEYS">
       <recent name="C:\xampp\htdocs\school-management-system" />
       <recent name="C:\xampp\htdocs\school-management-system\student" />
       <recent name="C:\xampp\htdocs\school-management-system\admin" />
       <recent name="C:\xampp\htdocs\school-management-system\assets\js" />
       <recent name="C:\xampp\htdocs\school-management-system\assets\assets\css" />
+    </key>
+    <key name="MoveFile.RECENT_KEYS">
+      <recent name="C:\xampp\htdocs\school-management-system\admin" />
+      <recent name="C:\xampp\htdocs\school-management-system" />
     </key>
   </component>
   <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
@@ -69,7 +64,7 @@
       <workItem from="1654624818140" duration="25678000" />
       <workItem from="1654757696858" duration="16673000" />
       <workItem from="1655102995208" duration="371000" />
-      <workItem from="1655145743384" duration="3883000" />
+      <workItem from="1655145743384" duration="9271000" />
     </task>
     <task id="LOCAL-00001" summary="third may push">
       <created>1652952972693</created>
@@ -155,7 +150,14 @@
       <option name="project" value="LOCAL" />
       <updated>1655103300781</updated>
     </task>
-    <option name="localTasksCounter" value="13" />
+    <task id="LOCAL-00013" summary="Final adjustments">
+      <created>1655149687306</created>
+      <option name="number" value="00013" />
+      <option name="presentableId" value="LOCAL-00013" />
+      <option name="project" value="LOCAL" />
+      <updated>1655149687306</updated>
+    </task>
+    <option name="localTasksCounter" value="14" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -171,10 +173,10 @@
     <option name="LAST_COMMIT_MESSAGE" value="Final adjustments" />
   </component>
   <component name="WindowStateProjectService">
-    <state x="308" y="0" key="CommitChangelistDialog2" timestamp="1655103294874">
+    <state x="308" y="0" key="CommitChangelistDialog2" timestamp="1655149677865">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state x="308" y="0" key="CommitChangelistDialog2/0.0.1366.728@0.0.1366.728" timestamp="1655103294874" />
+    <state x="308" y="0" key="CommitChangelistDialog2/0.0.1366.728@0.0.1366.728" timestamp="1655149677865" />
     <state x="463" y="119" key="FileChooserDialogImpl" timestamp="1651996241512">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
@@ -183,14 +185,14 @@
       <screen x="0" y="0" width="1366" height="728" />
     </state>
     <state x="517" y="287" key="NewPhpFileDialog/0.0.1366.728@0.0.1366.728" timestamp="1653841405512" />
-    <state x="275" y="97" key="Vcs.Push.Dialog.v2" timestamp="1655103404097">
+    <state x="275" y="97" key="Vcs.Push.Dialog.v2" timestamp="1655149932662">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state x="275" y="97" key="Vcs.Push.Dialog.v2/0.0.1366.728@0.0.1366.728" timestamp="1655103404097" />
-    <state x="500" y="278" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2" timestamp="1655103182382">
+    <state x="275" y="97" key="Vcs.Push.Dialog.v2/0.0.1366.728@0.0.1366.728" timestamp="1655149932662" />
+    <state x="500" y="278" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2" timestamp="1655149561945">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
-    <state x="500" y="278" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1366.728@0.0.1366.728" timestamp="1655103182382" />
+    <state x="500" y="278" key="com.intellij.openapi.vcs.update.UpdateOrStatusOptionsDialogupdate-v2/0.0.1366.728@0.0.1366.728" timestamp="1655149561945" />
     <state x="339" y="162" key="run.anything.popup" timestamp="1653434587478">
       <screen x="0" y="0" width="1366" height="728" />
     </state>
Index: admin/modal.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php $img = empty(isset($_SESSION['image']))? '../assets/img/profile.png' : '../assets/img/profile/'.isset($_SESSION['image']); ?>\r\n\r\n\r\n\r\n<div class=\"modal fade\" id=\"add-user\">\r\n    <div class=\"modal-dialog\" style=\"width: 150%\">\r\n        <div class=\"modal-content\" style=\"width: inherit\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Add New Account</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <form id=\"regForm\" method=\"POST\" action=\"sql.php\" onsubmit=\"return SendForm()\">\r\n                    <input name=\"add-user\" value=\"register\" hidden>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label class=\"col-md-4 col-form-label text-md-right\">Account Type</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <select type=\"text\" class=\"form-control\" name=\"accountType\" required>\r\n                                <option value=\"\">Select account type</option>\r\n                                <option value=\"admin\">Admin Account</option>\r\n                                <option value=\"student\">Student Account</option>\r\n                                <option value=\"teacher\">Teacher Account</option>\r\n                                <option value=\"parent\">Parent Account</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"name\" class=\"col-md-4 col-form-label text-md-right\">Name</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"name\" type=\"text\" class=\"form-control is-invalid\" name=\"name\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"name\" class=\"col-md-4 col-form-label text-md-right\">Surname</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"surname\" type=\"text\" class=\"form-control is-invalid\" name=\"surname\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"email\" class=\"col-md-4 col-form-label text-md-right\">E-Mail Address</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"email\" type=\"email\" class=\"form-control is-invalid\" name=\"email\" maxlength=\"30\" onkeyup=\"ValidateEmail()\"  required autocomplete=\"off\">\r\n                        </div>\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyEmail\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group row userID\" >\r\n                        <label class=\"col-md-4 col-form-label text-md-right\">ID Number</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"idNo\" type=\"text\" class=\"form-control is-invalid idNumber\" name=\"idNumber\" minlength=\"13\" maxlength=\"13\" onkeyup=\"ValidateID('idNo')\" onkeypress=\"return /[0-9]/i.test(event.key)\" autocomplete=\"off\" required>\r\n                        </div>\r\n\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyID\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row parentID\" hidden>\r\n                        <label class=\"col-md-4 col-form-label text-md-right\">Parent ID Number</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"PidNo\" type=\"text\" class=\"form-control is-invalid PidNumber\" name=\"PidNumber\" minlength=\"13\" maxlength=\"13\" onkeyup=\"ValidateID('PidNo')\" onkeypress=\"return /[0-9]/i.test(event.key)\" autocomplete=\"off\">\r\n                        </div>\r\n\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyPID\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group row userMobile\">\r\n                        <label for=\"mobile\" class=\"col-md-4 col-form-label text-md-right\">Mobile</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"mobile\" type=\"text\" class=\"form-control is-invalid\" name=\"mobile\" minlength=\"10\" maxlength=\"10\" onkeyup=\"ValidateMobile()\" onkeypress=\"return /[0-9]/i.test(event.key)\" required autocomplete=\"off\">\r\n                        </div>\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyMobile\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"password\" class=\"col-md-4 col-form-label text-md-right\">Password&nbsp;</label>\r\n\r\n                        <div  class=\"col-md-6\">\r\n                            <input id=\"password\" type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"e.g 1234*Abcd\" minlength=\"8\" onkeyup=\"CreatePassword()\" required autocomplete=\"off\">\r\n                            <span class=\"fa fa-eye\" style=\"margin-top: -30px;position: absolute;right: 25px;\"></span>\r\n                        </div>\r\n\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyPass\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"passwordMatch\" class=\"col-md-4 col-form-label text-md-right\">Confirm Password&nbsp;</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"passwordMatch\" type=\"password\" class=\"form-control\" name=\"passwordMatch\" minlength=\"8\" onkeyup=\"MatchPassword()\" required autocomplete=\"off\">\r\n                        </div>\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyMatch\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group row mb-0\">\r\n                        <div class=\"col-md-6 offset-md-4\">\r\n                            <button type=\"submit\" class=\"btn btn-success form-control text-white\">\r\n                                Register\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n<!--student-->\r\n\r\n<div class=\"modal fade\" id=\"approve-student\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Approve Student</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"acc_approval\" hidden>\r\n                    <input name=\"acc_student\" hidden>\r\n                    <span id=\"apv-student\"></span>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"view-student\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Student Profile</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n\r\n                <div style=\"text-align: center\"><img src=\"../assets/img/profile.png\" alt=\"...\" class=\"img-fluid rounded-circle\"></div>\r\n\r\n                <hr/>\r\n                <div style=\"display: grid;float: left;\">\r\n                    <label class=\" col-form-label\">Name: <span class=\"st-name\"></span></label>\r\n                    <label class=\" col-form-label\">Surname: <span class=\"st-surname\"></span></label>\r\n                    <label class=\" col-form-label\">E-Mail Address: <span class=\"st-email\"></span></label>\r\n                    <label class=\" col-form-label\">ID Number: <span class=\"st-idNo\"></span></label>\r\n                    <label class=\" col-form-label\">Age: <span class=\"st-age\"></span></label>\r\n                    <label class=\" col-form-label\">Grade: <span class=\"st-grade\"></span></label>\r\n                    <label class=\" col-form-label\">Parent: <span class=\"st-parent\"></span></label>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"edit-student\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Edit Student</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\" onsubmit=\"return sendForm('editStudent')\">\r\n\r\n                    <input type=\"text\" name=\"edit-st\" hidden>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"edit-st-name\" class=\"col-md-4 col-form-label text-md-right\">Name</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"edit-st-name\" type=\"text\" class=\"form-control is-invalid\" name=\"edit-st-name\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"edit-st-surname\" class=\"col-md-4 col-form-label text-md-right\">Surname</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"edit-st-surname\" type=\"text\" class=\"form-control is-invalid\" name=\"edit-st-surname\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"edit-st-email\" class=\"col-md-4 col-form-label text-md-right\">E-Mail Address</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"edit-st-email\" type=\"email\" class=\"form-control is-invalid\" name=\"edit-st-email\" maxlength=\"30\" onkeyup=\"validateEmail('editStudent')\"  required autocomplete=\"\">\r\n                        </div>\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"edit-st-verifyEmail\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"edit-st-idNo\" class=\"col-md-4 col-form-label text-md-right\">ID Number</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"edit-st-idNo\" type=\"text\" class=\"form-control is-invalid\" name=\"edit-st-idNo\" minlength=\"13\" maxlength=\"13\" onkeypress=\"return /[0-9]/i.test(event.key)\" onkeyup=\"validateID('editStudent')\" required autocomplete=\"off\">\r\n                        </div>\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"edit-st-verifyID\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <input id=\"edit-st-gender\" type=\"text\" class=\"form-control is-invalid\" name=\"edit-st-gender\" hidden>\r\n\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Save</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"delete-student\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header text-danger\">\r\n                <span>Delete Student</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"delete-student\" hidden>\r\n\r\n                    <span id=\"lbl-student\"></span>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<!--Admin-->\r\n\r\n<div class=\"modal fade\" id=\"view-admin-profile\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>User Profile</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n\r\n                <div style=\"text-align: center\"><img src=\"../assets/img/profile.png\" alt=\"...\" class=\"img-fluid rounded-circle\"></div>\r\n\r\n                <hr/>\r\n                <div style=\"display: grid;float: left;\">\r\n                    <label class=\" col-form-label\">Name: <span class=\"admin-name\"></span></label>\r\n                    <label class=\" col-form-label\">Surname: <span class=\"admin-surname\"></span></label>\r\n                    <label class=\" col-form-label\">Email Address: <span class=\"admin-email\"></span></label>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <button id=\"<?php echo $_SESSION['id'] ?>\" class=\"btn btn-warning edit-admin\"><i class=\"fa fa-edit\"></i> Edit</button>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n\r\n<div class=\"modal fade\" id=\"edit-admin\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Edit Admin</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\" onsubmit=\"return sendForm('editAdmin')\">\r\n\r\n                    <input type=\"text\" name=\"edit-admin\" hidden>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"edit-admin-name\" class=\"col-md-4 col-form-label text-md-right\">Name</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"edit-admin-name\" type=\"text\" class=\"form-control is-invalid\" name=\"edit-admin-name\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"edit-admin-surname\" class=\"col-md-4 col-form-label text-md-right\">Surname</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"edit-admin-surname\" type=\"text\" class=\"form-control is-invalid\" name=\"edit-admin-surname\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"edit-admin-email\" class=\"col-md-4 col-form-label text-md-right\">E-Mail Address</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"edit-admin-email\" type=\"email\" class=\"form-control is-invalid\" name=\"edit-admin-email\" maxlength=\"30\" onkeyup=\"validateEmail('editAdmin')\"  required autocomplete=\"\">\r\n                        </div>\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"edit-admin-verifyEmail\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Save</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n\r\n<div class=\"modal fade\" id=\"delete-admin\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Delete Admin</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"delete-admin\" hidden>\r\n\r\n                    <span id=\"lbl-admin\"></span>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<!--Parenet-->\r\n<div class=\"modal fade\" id=\"approve-parent\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Approve Parent</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"acc_approval\" hidden>\r\n                    <input name=\"acc_parent\" hidden>\r\n                    <span id=\"apv-parent\"></span>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<!--Teacher-->\r\n<div class=\"modal fade\" id=\"approve-teacher\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Approve Teacher</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"acc_approval\" hidden>\r\n                    <input name=\"acc_teacher\" hidden>\r\n                    <span id=\"apv-teacher\"></span>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n\r\n<!--Drivers-->\r\n\r\n<div class=\"modal fade\" id=\"add-transport\">\r\n    <div class=\"modal-dialog\" style=\"width: 150%\">\r\n        <div class=\"modal-content\" style=\"width: inherit\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Add Transportation</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <form id=\"regForm\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n                    <input name=\"add-transport\" value=\"register\" hidden>\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"name\" class=\"col-md-4 col-form-label text-md-right\">Name</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"name\" type=\"text\" class=\"form-control is-invalid\" name=\"name\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"name\" class=\"col-md-4 col-form-label text-md-right\">Surname</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"surname\" type=\"text\" class=\"form-control is-invalid\" name=\"surname\" onkeypress=\"return /[a-z]/i.test(event.key)\" required autocomplete=\"false\">\r\n                        </div>\r\n                        <span class=\"text-center\" role=\"alert\" style=\"display: block\">\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group row userID\" >\r\n                        <label class=\"col-md-4 col-form-label text-md-right\">ID Number</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"DidNo\" type=\"text\" class=\"form-control is-invalid idNumber\" name=\"DidNo\" minlength=\"13\" maxlength=\"13\" onkeypress=\"return /[0-9]/i.test(event.key)\" autocomplete=\"off\" required>\r\n                        </div>\r\n\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyDiD\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group row userMobile\">\r\n                        <label for=\"Dmobile\" class=\"col-md-4 col-form-label text-md-right\">Mobile</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"Dmobile\" type=\"text\" class=\"form-control is-invalid\" name=\"Dmobile\" minlength=\"10\" maxlength=\"10\" onkeyup=\"ValidateMobile()\" onkeypress=\"return /[0-9]/i.test(event.key)\" required autocomplete=\"off\">\r\n                        </div>\r\n                        <span class=\"invalid-feedback text-center\" role=\"alert\" style=\"display: block\">\r\n                                <strong id=\"verifyDmobile\"></strong>\r\n                            </span>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"bus\" class=\"col-md-4 col-form-label text-md-right\">Bus Name</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"bus\" type=\"text\" class=\"form-control is-invalid\" name=\"bus\" minlength=\"5\" maxlength=\"10\" required autocomplete=\"off\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group row\">\r\n                        <label for=\"picture\" class=\"col-md-4 col-form-label text-md-right\">Bus Picture</label>\r\n\r\n                        <div class=\"col-md-6\">\r\n                            <input id=\"picture\" type=\"file\" class=\"form-control is-invalid\" name=\"picture\" required>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"form-group row mb-0\">\r\n                        <div class=\"col-md-6 offset-md-4\">\r\n                            <button type=\"submit\" class=\"btn btn-success form-control text-white\">\r\n                                Register\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n\r\n<div class=\"modal fade\" id=\"view-bus\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Transport Details</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n\r\n                <div style=\"text-align: center\"><img src=\"../assets/img/profile.png\" alt=\"...\" class=\"img-fluid rounded-circle bus-img\"></div>\r\n\r\n                <hr/>\r\n                <div style=\"display: grid;float: left;\">\r\n                    <label class=\" col-form-label\">Bus Name: <span class=\"bus-name\"></span></label>\r\n                    <label class=\" col-form-label\">Driver Name: <span class=\"driver-name\"></span></label>\r\n                    <label class=\" col-form-label\">Driver Surname: <span class=\"driver-surname\"></span></label>\r\n                    <label class=\" col-form-label\">Driver Contact: <span class=\"driver-contact\"></span></label>\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"delete-bus\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Delete Transport</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"delete-bus\" hidden>\r\n\r\n                    <span id=\"lbl-bus\"></span>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"accept_return\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Confirm Book Return</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"accept_return\" hidden>\r\n                    <h4 class=\"text-success\" id=\"accept_return_\"></h4>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"decline_return\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Decline Book Return</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input name=\"decline_return\" hidden>\r\n                    <h4 class=\"text-danger\" id=\"decline_return_\"></h4>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Confirm</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"add_book\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Add New Book</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <input class=\"form-control\" name=\"add_book\" type=\"text\" placeholder=\"Enter book name...\" required>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Submit</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"edit_book\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Edit Book</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n                    <input name=\"edit_book_id\" hidden>\r\n                    <input class=\"form-control\" name=\"edit_book\" type=\"text\" placeholder=\"Enter book name...\" required>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-save\"></i> Submit</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"delete_book\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Delete Book</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n                    <input name=\"delete_book_id\" hidden>\r\n                    <h4 id=\"delete_book_\"></h4>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-danger btn-flat\"><i class=\"fa fa-trash-o\"></i> Delete</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>\r\n\r\n<div class=\"modal fade\" id=\"broadcast-modal\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n            <a type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></a>\r\n            <div class=\"modal-header\">\r\n                <span>Broadcast Message</span>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form class=\"form-horizontal\" method=\"POST\" action=\"sql.php\" enctype=\"multipart/form-data\">\r\n\r\n                    <select name=\"broad_cast\" class=\"form-control\" required>\r\n                        <option value=\"\" selected disabled>Select Audience</option>\r\n                        <option value=\"teacher\">Teachers</option>\r\n                        <option value=\"student\">Students</option>\r\n                    </select>\r\n                    <br>\r\n\r\n                    <textarea name=\"broad_message\" placeholder=\"Type your message here...\" class=\"form-control bg-white\" rows=\"3\" style=\"border-radius: 5px\" required></textarea>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"submit\" class=\"btn btn-success btn-flat\"><i class=\"fa fa-send\"></i> Send</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div></div>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- admin/modal.php	(revision 79e8d89fb2bb9a2d8cb38396f28d8022ee0ecb11)
+++ admin/modal.php	(date 1655152031824)
@@ -724,7 +724,7 @@
                     <textarea name="broad_message" placeholder="Type your message here..." class="form-control bg-white" rows="3" style="border-radius: 5px" required></textarea>
 
                     <div class="modal-footer">
-                        <button type="submit" class="btn btn-success btn-flat"><i class="fa fa-send"></i> Send</button>
+                        <button type="submit" class="btn btn-success btn-flat"><i class="fa fa-send fa-lis"></i> Send</button>
                 </form>
             </div>
         </div>
Index: admin/message.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php include './../layouts/session.php'; include './../layouts/alerts.php';$page='message'?>\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<?php include './../layouts/header.php'; ?>\r\n<body style=\"display: flex\">\r\n<div style=\"width:100%;display:flex;background: #2d3035;\">\r\n    <?php include './../layouts/navbar.php'; ?>\r\n\r\n<!--    {{--BODY --}}-->\r\n    <div class=\"page-content\">\r\n        <div class=\"page-header\">\r\n            <div class=\"container-fluid\">\r\n                <h2 class=\"h5 no-margin-bottom\">Admin Messages</h2>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"margin:15px\">\r\n            View All messages sent and received here.\r\n        </div>\r\n\r\n\r\n        <section class=\"\" style=\"padding: 20px\">\r\n            <div class=\"container-fluid\" style=\"height: 600px;overflow: scroll;\">\r\n                <div class=\"row\" style=\"margin-left: 15px\">\r\n\r\n                    <div class=\"ms-container ms-darker ms-gray-bg\">\r\n                        <button class=\"broadcast-btn text-black\">Send Broadcast Message <i class=\"fa fa-microphone\"></i></button>\r\n                    </div>\r\n\r\n\r\n\r\n                    <?php\r\n                    if(isset($_GET['user_type'])){\r\n\r\n                        $user_id='';\r\n                        $init = $pdo->open();\r\n                        if($_GET['user_type']=='teacher'){\r\n                            $sql = $init->prepare(\"SELECT * FROM message,teacher \r\n                                                WHERE (user_id=teacher_id AND user_type='teacher' AND sender_type='admin' AND user_id=:id AND sender_id=:user_id) \r\n                                                OR (sender_id=teacher_id AND sender_type='teacher' AND user_type='admin' AND user_id=:user_id AND sender_id=:id)\");\r\n\r\n                        }else if($_GET['user_type']=='student'){\r\n                            $sql = $init->prepare(\"SELECT * FROM message,student \r\n                                                WHERE (user_id=student_id AND user_type='student' AND sender_type='admin' AND user_id=:id AND sender_id=:user_id) \r\n                                                OR (sender_id=student_id AND sender_type='student' AND user_type='admin' AND user_id=:user_id AND sender_id=:id)\");\r\n                        }\r\n\r\n                        $sql->execute(['id'=>$_GET['user_id'],'user_id'=>$_SESSION['id']]);\r\n\r\n                        if($sql->rowCount() > 0){\r\n                            foreach ($sql as $data) {\r\n                                if($data['sender_type']==$_SESSION['user'] &&$data['sender_id']==$_SESSION['id']){\r\n\r\n                                    echo '\r\n                                    <div class=\"sender-msg\">\r\n                                        <div class=\"ms-container ms-darker ms-green-bg\">\r\n                                        <h4><b><i>You</i></b></h4>\r\n                                            <p>'.$data['message'].'</p>\r\n                                            <span class=\"ms-time-right\">'.$data['date'].'</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ';\r\n                                }else{\r\n                                    echo '\r\n                                    <div class=\"receiver-msg\">\r\n                                        <div class=\"ms-container ms-darker ms-gray-bg\">\r\n                                        <h4><b><i>'.$data['name'].'</i></b></h4>\r\n                                            <p>'.$data['message'].'</p>\r\n                                            <span class=\"ms-time-left\">'.$data['date'].'</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ';\r\n                                }\r\n\r\n                            }\r\n\r\n                        }else {\r\n                            echo '\r\n                                   <div class=\"ms-container ms-darker ms-gray-bg\">\r\n                                        <p>No messages found!</p>\r\n                                    </div>\r\n                            ';\r\n                        }\r\n\r\n                        echo '\r\n                                <form class=\"\" style=\"width: 100%\" method=\"post\" action=\"sql.php\">\r\n                                    <input name=\"user_type\" value=\"'.$_GET['user_type'].'\" hidden>\r\n                                    <input name=\"user_id\" value=\"'.$_GET['user_id'].'\" hidden>\r\n                                    <textarea name=\"message\" placeholder=\"Type your message here...\" class=\"form-control bg-white\" rows=\"3\" style=\"border-radius: 5px\" required></textarea>\r\n                                    <button class=\"btn btn-success\"><i class=\"fa fa-send\"></i> Send</button>\r\n                                </form>\r\n                            ';\r\n                    }else{\r\n                        echo '\r\n                           <table id=\"admin_table\" class=\"table table-bordered\" style=\"width: 100%;\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Name</th>\r\n                                    <th>Surname</th>\r\n                                    <th>User Type</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                ';\r\n\r\n                        $init = $pdo->open();\r\n                        $sql = $init->prepare(\"SELECT name,surname,teacher_id,email FROM teacher UNION SELECT name,surname,student_id,email FROM student\");\r\n                        $sql->execute();\r\n\r\n                        if ($sql->rowCount() > 0) {\r\n                            foreach ($sql as $data) {\r\n\r\n                                $role='teacher';\r\n                                $sql3 = $init->prepare(\"SELECT * FROM student WHERE email=:email\");\r\n                                $sql3->execute(['email'=>$data[\"email\"]]);\r\n                                if($sql3->rowCount() > 0){\r\n                                    $role='student';\r\n                                }\r\n\r\n\r\n                                echo '\r\n                                     <tr>\r\n                                        <td>' . $data[\"name\"] . '</td>\r\n                                        <td>' . $data[\"surname\"] . '</td>\r\n                                        <td>' . ucfirst($role). '</td>\r\n                                        <td>\r\n                                            <div class=\"d-flex\" >\r\n                                                <a href=\"?user_type='.$role.'&user_id='.$data[\"teacher_id\"].'\" class=\"contributions bg-info text-white action_spans view-admin-profile\" title=\"Open Chat\"><i class=\"fa fa-level-up\"></i> Open Chat</a>\r\n                                            </div>\r\n                                        </td>\r\n                                     </tr>\r\n                                ';\r\n\r\n                            }\r\n                            $pdo->close();\r\n                        }\r\n                        echo '\r\n                    \r\n                                     </tbody>\r\n                    </table>';\r\n                    }\r\n                    ?>\r\n\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n<!--        {{--        ENd Table--}}-->\r\n    </div>\r\n<!--    {{--END BODY--}}-->\r\n</div>\r\n\r\n<?php include('./../layouts/footer.php') ?>\r\n</body>\r\n</html>\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- admin/message.php	(revision 79e8d89fb2bb9a2d8cb38396f28d8022ee0ecb11)
+++ admin/message.php	(date 1655155942136)
@@ -49,6 +49,12 @@
                         $sql->execute(['id'=>$_GET['user_id'],'user_id'=>$_SESSION['id']]);
 
                         if($sql->rowCount() > 0){
+
+                            $sql3 = $init->prepare("UPDATE message set seen='seen' WHERE sender_type='$_GET[user_type]' 
+                                                       AND sender_id='$_GET[user_id]' AND  user_id='$_SESSION[id]' AND user_type='admin'  
+                                                       AND seen IS NULL");
+                            $sql3->execute();
+
                             foreach ($sql as $data) {
                                 if($data['sender_type']==$_SESSION['user'] &&$data['sender_id']==$_SESSION['id']){
 
@@ -119,6 +125,16 @@
                                     $role='student';
                                 }
 
+                                $sql3 = $init->prepare("SELECT COUNT(*) AS unread FROM message WHERE sender_type='$role' 
+                                                       AND sender_id='$data[teacher_id]' AND  user_id='$_SESSION[id]' AND user_type='admin'  
+                                                       AND seen IS NULL");
+                                $sql3->execute();
+                                $getTot = $sql3->fetch();
+                                $totMessages='';
+                                if($getTot['unread'] > 0){
+                                    $totMessages = '<small style="position: absolute;margin-top: -15px;border-radius: 10px;background: orange;" class="text-white"><i style="margin: 5px">'.$getTot["unread"].'</i></small>';
+                                }
+
 
                                 echo '
                                      <tr>
@@ -127,7 +143,7 @@
                                         <td>' . ucfirst($role). '</td>
                                         <td>
                                             <div class="d-flex" >
-                                                <a href="?user_type='.$role.'&user_id='.$data["teacher_id"].'" class="contributions bg-info text-white action_spans view-admin-profile" title="Open Chat"><i class="fa fa-level-up"></i> Open Chat</a>
+                                                <a href="?user_type='.$role.'&user_id='.$data["teacher_id"].'" class="bg-info text-white action_spans" title="Open Chat"><i class="fa fa-level-up"></i> Open Chat  '.$totMessages.'</a>
                                             </div>
                                         </td>
                                      </tr>
